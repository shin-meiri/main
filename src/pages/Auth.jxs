// pages/Auth.jsx
import React, { useEffect } from 'react';

const Auth = ({ children }) => {
  useEffect(() => {
    // Cek apakah user sudah login via API
    fetch('/api/check-auth.php')
      .then(res => res.json())
      .then(data => {
        if (!data.authenticated && window.location.pathname !== '/login') {
          window.location.href = '/login';
        }
      });
  }, []);

  return <>{children}</>;
};

export default Auth;